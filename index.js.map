{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst keyAPI =  \"52733365-810bb5faaf6ec9d90304400a7\";\n\nexport function getImagesByQuery(query) {\n\n    const searchParams = new URLSearchParams({\n        key: keyAPI,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n    });\n    \n    return axios.get(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => { \n            if(response.data.hits.length === 0){\n                iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            }\n        return response.data;\n    })\n    .catch((error) => {\n\n        iziToast.info({\n            position: 'topRight',\n            message: error.message,\n        });\n\n        return {hits: []};\n    });\n    \n    \n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nlet lightbox;\nlet loader = document.querySelector(\".loader\");\nconst gallery = document.querySelector('.gallery');\n\nexport function createGallery(images) {\n\n    let markUp = images.map(image => { \n        return `<li>\n\n            <div class=\"container-image\">\n                <a href=\"${image.largeImageURL}\">\n                    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                </a>\n            </div>\n\n            <div class=\"container-description\">\n                <ul class=\"image-description\">\n                    <li> <span>Likes</span> <span>${image.likes}</span> </li>\n                    <li> <span>Views</span> <span>${image.views}</span> </li>\n                    <li> <span>Comments</span> <span>${image.comments}</span> </li>\n                    <li><span>Downloads</span> <span>${image.downloads}</span> </li>\n                </ul>\n            </div>\n\n        </li>`;\n    }).join(\"\");\n\n    gallery.innerHTML = markUp;\n\n    if(lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n    }\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    if (loader) loader.style.display = \"block\";\n}\n\nexport function hideLoader() {\n    if (loader) loader.style.display = \"none\";\n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport {getImagesByQuery} from \"./js/pixabay-api.js\";\nimport {createGallery, clearGallery, showLoader, hideLoader} from \"./js/render-functions.js\";\n\n\nlet form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    clearGallery();\n    \n    let userQuery = event.target.elements[\"search-text\"].value.trim();\n    if(userQuery === \"\") {\n        iziToast.error({\n            position: 'topRight',\n            message: 'The field must not be empty',\n        });\n        form.reset();\n        return;\n    }\n\n    showLoader();\n    let query = userQuery.split(\" \").join(\"+\");\n\n    getImagesByQuery(query)\n    .then(data => {\n        hideLoader();\n\n        if(data.hits.length === 0) {\n            return;\n        }\n\n        createGallery(data.hits);\n    })\n    .catch(() =>{\n        hideLoader();\n\n        iziToast.error({\n            position: 'topRight',\n            message: 'Something went wrong. Please try again later.',\n        });\n\n    })\n    .finally(() => {\n        form.reset();\n    });\n    \n});"],"names":["keyAPI","getImagesByQuery","query","searchParams","axios","response","iziToast","error","lightbox","loader","gallery","createGallery","images","markUp","image","SimpleLightbox","clearGallery","showLoader","hideLoader","form","event","userQuery","data"],"mappings":"owBAKA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CAEpC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAOE,EAAM,IAAI,4BAA4BD,CAAY,EAAE,EACtD,KAAKE,IACCA,EAAS,KAAK,KAAK,SAAW,GAC7BC,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAEFD,EAAS,KACnB,EACA,MAAOE,IAEJD,EAAS,KAAK,CACV,SAAU,WACV,QAASC,EAAM,OAC3B,CAAS,EAEM,CAAC,KAAM,CAAA,CAAE,EACnB,CAGL,CCjCA,IAAIC,EACAC,EAAS,SAAS,cAAc,SAAS,EAC7C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAElC,IAAIC,EAASD,EAAO,IAAIE,GACb;AAAA;AAAA;AAAA,2BAGYA,EAAM,aAAa;AAAA,gCACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAMlBA,EAAM,KAAK;AAAA,oDACXA,EAAM,KAAK;AAAA,uDACRA,EAAM,QAAQ;AAAA,uDACdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAKjE,EAAE,KAAK,EAAE,EAEVJ,EAAQ,UAAYG,EAEjBL,EACCA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAE9F,CAEO,SAASC,GAAe,CAC3BN,EAAQ,UAAY,EACxB,CAEO,SAASO,GAAa,CACrBR,IAAQA,EAAO,MAAM,QAAU,QACvC,CAEO,SAASS,GAAa,CACrBT,IAAQA,EAAO,MAAM,QAAU,OACvC,CC5CA,IAAIU,EAAO,SAAS,cAAc,OAAO,EAEzCA,EAAK,iBAAiB,SAAUC,GAAS,CACrCA,EAAM,eAAc,EAEpBJ,IAEA,IAAIK,EAAYD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAC3D,GAAGC,IAAc,GAAI,CACjBf,EAAS,MAAM,CACX,SAAU,WACV,QAAS,6BACrB,CAAS,EACDa,EAAK,MAAK,EACV,MACH,CAEDF,IACA,IAAIf,EAAQmB,EAAU,MAAM,GAAG,EAAE,KAAK,GAAG,EAEzCpB,EAAiBC,CAAK,EACrB,KAAKoB,GAAQ,CACVJ,IAEGI,EAAK,KAAK,SAAW,GAIxBX,EAAcW,EAAK,IAAI,CAC/B,CAAK,EACA,MAAM,IAAK,CACRJ,IAEAZ,EAAS,MAAM,CACX,SAAU,WACV,QAAS,+CACrB,CAAS,CAET,CAAK,EACA,QAAQ,IAAM,CACXa,EAAK,MAAK,CAClB,CAAK,CAEL,CAAC"}